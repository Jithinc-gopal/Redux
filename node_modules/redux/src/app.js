import { createStore } from "https://cdn.skypack.dev/redux";


const appReducer = (prevState={value:0},action)=>{
    switch(action.type){
        case "increment":{
            return{
                ...prevState,
                value:prevState.value+action.payload
            }
        }
        case "decrement":{
            return{
                ...prevState,
                value:prevState.value-action.payload
            }
        }
        default:  return prevState
    }
}



const store  = createStore(appReducer)
const state = store.getState()


//action creators
const increment= ()=>{
    return {
        type:"increment",
        payload:1
    }
}

const decrement = ()=>{
  return  {
        type:"decrement",
        payload:1

    }

}

store.subscribe(()=>{
    document.getElementById('value').innerText = store.getState().value
})

document.getElementById('value').innerText= state.value
document.getElementById('inc').onclick=()=>{
    store.dispatch(increment())
    console.log("increment")
}
document.getElementById('dec').onclick=()=>{
    store.dispatch(decrement())
    console.log("decrement")
}
console.log(state)